df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
View(df_box)
View(df_box)
1^0.003
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -0.3))
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -0.3))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -3))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -0.3))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -3))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = 3))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -3))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -2))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -1.1))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -0.1))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
auction_price <- prices_name[3:4]
df_box[, auction_price] <- df[, auction_price]
df_box <- df_box %>%
mutate_at(vars(all_of(auction_price)), ~ boxcox_transform(., lambda = -0.001))
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
#geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "blue" ))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
geom_line(aes(y = day_ahead_price_ch, color = "day_ahead_price_ch")) +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "blue", "day_ahead_price_ch" = "red"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "blue"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < second_cut & date >= first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
geom_line(aes(y = day_ahead_price_ch, color = "day_ahead_price_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "blue"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "blue"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "grey"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date < second_cut & date >= first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme_minimal()
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme_minimal()
df_box %>% max()
df_box %>% select(day_ahead_price_de) %>%  min()
date_outlier <- df_box %>%
filter(day_ahead_price_de == min(day_ahead_price_de)) %>%
pull(date)
date_outlier
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme_minimal(plot.margin = margin(10, 10, 10, 10))
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10))
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
geom_line(aes(y = day_ahead_price_ch, color = "day_ahead_price_ch")) +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green", "day_ahead_price_ch" = "red"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < second_cut & date >= first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
geom_line(aes(y = day_ahead_price_ch, color = "day_ahead_price_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green", "day_ahead_price_ch" = "red"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
geom_line(aes(y = day_ahead_price_ch, color = "day_ahead_price_ch")) +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green", "day_ahead_price_ch" = "red"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "green", "auction_price_ch_de" = "green" ))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "orange", "auction_price_ch_de" = "blue" ))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = auction_price_ch_de, color = "auction_price_ch_de")) +
geom_line(aes(y = auction_price_de_ch, color = "auction_price_de_ch")) +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("auction_price_de_ch" = "orange", "auction_price_ch_de" = "blue" ))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%H:%M") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%M") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
df$date[1]
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "M") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%Y-%m") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%Y-%m", date_breaks="6 months") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%Y-%m", date_breaks="2 months") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%Y-%m", date_breaks="4 months") +
labs(title = "Prices First Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date < second_cut & date >= first_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%Y-%m", date_breaks="4 months") +
labs(title = "Prices Second Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
# Make the chart
df_box %>%
filter(date > second_cut) %>%
ggplot(aes(x = date)) +
geom_line(aes(y = day_ahead_price_de, color = "day_ahead_price_de")) +
scale_x_datetime(date_labels = "%Y-%m", date_breaks="4 months") +
labs(title = "Prices Third Period",
x = "Hourly data",
y = "Price day ahead",
color = "Day ahead prices") +
scale_color_manual(values = c("day_ahead_price_de" = "green"))+
theme(plot.margin = margin(10, 10, 10, 10), legend.position = "bottom")
date_outlier <- df_box %>%
filter(day_ahead_price_de == min(day_ahead_price_de)) %>%
pull(date)
